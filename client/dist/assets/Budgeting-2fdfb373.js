import{_ as L}from"./_plugin-vue_export-helper-0b6f8918.js";/* empty css                     *//* empty css                     *//* empty css                             *//* empty css                 */import{G as y,K as $,H as j,o as w,a as A,b as u,d as e,w as o,L as R,M as G,T as d,J as H,N as J,O as K,Q as O,f as l,g as h,I as _,aj as P,S as Q,U as W,V as X,a8 as q,h as Z,W as ee,X as te,x as oe,y as ae}from"./index-25be2468.js";const ne={class:"budgeting-management"},le={class:"search-form"},se={class:"button-group"},re={class:"table-container"},ie={class:"operation-buttons"},de={__name:"Budgeting",setup(ue){const m=y(!1),f=y([]),r=$({keyword:"",year:""}),p=async()=>{m.value=!0;try{const n=[{id:1,budget_code:"BUD-2025-001",budget_name:"办公用品预算",department:"行政部",budget_year:"2025",budget_amount:5e4,used_amount:15e3,remaining_amount:35e3,status:"approved"},{id:2,budget_code:"BUD-2025-002",budget_name:"设备采购预算",department:"技术部",budget_year:"2025",budget_amount:2e5,used_amount:8e4,remaining_amount:12e4,status:"approved"}];f.value=n}catch(n){console.error("加载数据失败:",n),d.error("加载数据失败")}finally{m.value=!1}},k=()=>p(),C=()=>{r.keyword="",r.year="",p()},E=()=>d.info("新增预算功能开发中..."),D=()=>d.info("编辑功能开发中..."),x=()=>d.info("预算审批功能开发中..."),B=()=>d.info("详情功能开发中..."),V=async n=>{try{await Q.confirm(`确定要删除预算"${n.budget_name}"吗？`,"确认删除"),d.success("删除成功"),p()}catch{}},M=n=>({draft:"info",pending:"warning",approved:"success",rejected:"danger"})[n]||"info",Y=n=>({draft:"草稿",pending:"待审批",approved:"已批准",rejected:"已拒绝"})[n]||n,T=n=>n>0?"positive-remaining":"negative-remaining",c=n=>Number(n).toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2});return j(()=>p()),(n,t)=>{const N=W,g=X,S=q,i=H,z=J,b=Z,s=ee,F=te,I=K,U=O;return w(),A("div",ne,[u("div",le,[e(z,{model:r,inline:""},{default:o(()=>[e(g,{label:"关键词"},{default:o(()=>[e(N,{modelValue:r.keyword,"onUpdate:modelValue":t[0]||(t[0]=a=>r.keyword=a),placeholder:"请输入预算名称或部门",clearable:""},null,8,["modelValue"])]),_:1}),e(g,{label:"预算年度"},{default:o(()=>[e(S,{modelValue:r.year,"onUpdate:modelValue":t[1]||(t[1]=a=>r.year=a),type:"year",placeholder:"请选择年度",format:"YYYY","value-format":"YYYY"},null,8,["modelValue"])]),_:1}),e(g,null,{default:o(()=>[e(i,{type:"primary",onClick:k},{default:o(()=>[...t[2]||(t[2]=[l("搜索",-1)])]),_:1}),e(i,{onClick:C},{default:o(()=>[...t[3]||(t[3]=[l("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),u("div",se,[e(i,{type:"primary",onClick:E},{default:o(()=>[e(b,null,{default:o(()=>[e(h(oe))]),_:1}),t[4]||(t[4]=l(" 新增预算 ",-1))]),_:1}),e(i,{type:"success",onClick:x},{default:o(()=>[e(b,null,{default:o(()=>[e(h(ae))]),_:1}),t[5]||(t[5]=l(" 预算审批 ",-1))]),_:1})]),u("div",re,[R((w(),G(I,{data:f.value,stripe:"",border:"",style:{width:"100%"},"table-layout":"fixed"},{default:o(()=>[e(s,{prop:"budget_code",label:"预算编号",width:"150","show-overflow-tooltip":""}),e(s,{prop:"budget_name",label:"预算名称",width:"200","show-overflow-tooltip":""}),e(s,{prop:"department",label:"部门",width:"150","show-overflow-tooltip":""}),e(s,{prop:"budget_year",label:"预算年度",width:"100","show-overflow-tooltip":""}),e(s,{prop:"budget_amount",label:"预算金额",width:"120","show-overflow-tooltipalign":"right"},{default:o(({row:a})=>[l(_(c(a.budget_amount)),1)]),_:1}),e(s,{prop:"used_amount",label:"已用金额",width:"120","show-overflow-tooltipalign":"right"},{default:o(({row:a})=>[l(_(c(a.used_amount)),1)]),_:1}),e(s,{prop:"remaining_amount",label:"剩余金额",width:"120","show-overflow-tooltipalign":"right"},{default:o(({row:a})=>[u("span",{class:P(T(a.remaining_amount))},_(c(a.remaining_amount)),3)]),_:1}),e(s,{prop:"status",label:"状态",width:"100","show-overflow-tooltip":""},{default:o(({row:a})=>[e(F,{type:M(a.status)},{default:o(()=>[l(_(Y(a.status)),1)]),_:2},1032,["type"])]),_:1}),e(s,{label:"操作",width:"280","show-overflow-tooltipfixed":"right"},{default:o(({row:a})=>[u("div",ie,[e(i,{size:"small",onClick:v=>D(a)},{default:o(()=>[...t[6]||(t[6]=[l("编辑",-1)])]),_:1},8,["onClick"]),e(i,{size:"small",type:"primary",onClick:v=>B(a)},{default:o(()=>[...t[7]||(t[7]=[l(" 详情 ",-1)])]),_:1},8,["onClick"]),e(i,{size:"small",type:"danger",onClick:v=>V(a)},{default:o(()=>[...t[8]||(t[8]=[l(" 删除 ",-1)])]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["data"])),[[U,m.value]])])])}}},be=L(de,[["__scopeId","data-v-c4a360a4"]]);export{be as default};
