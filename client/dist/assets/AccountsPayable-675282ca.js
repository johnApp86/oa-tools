import{_ as L}from"./_plugin-vue_export-helper-0b6f8918.js";/* empty css                     *//* empty css                     *//* empty css                  *//* empty css                 */import{G as k,K as $,H as K,o as C,a as O,b as r,d as e,w as t,L as R,M as j,T as d,J as G,N as H,O as J,Q,R as W,f as o,g as w,I as _,aj as X,S as q,U as Y,V as Z,a4 as ee,a3 as ae,h as te,W as le,X as ne,x as oe,F as se}from"./index-4e5dc47e.js";const ie={class:"accounts-payable-management"},ue={class:"search-form"},de={class:"button-group"},re={class:"table-container"},ce={class:"operation-buttons"},pe={__name:"AccountsPayable",setup(_e){const m=k(!1),v=k([]),i=$({keyword:"",status:""}),c=async()=>{m.value=!0;try{const l=[{id:1,invoice_no:"INV-SUP-001",supplier_name:"供应商A",amount:25e3,paid_amount:1e4,balance:15e3,due_date:"2025-11-30",status:"partial"},{id:2,invoice_no:"INV-SUP-002",supplier_name:"供应商B",amount:15e3,paid_amount:15e3,balance:0,due_date:"2025-11-15",status:"paid"}];v.value=l}catch(l){console.error("加载数据失败:",l),d.error("加载数据失败")}finally{m.value=!1}},y=()=>{c()},E=()=>{i.keyword="",i.status="",c()},x=()=>{d.info("新增应付功能开发中...")},V=()=>{d.info("编辑功能开发中...")},B=()=>{d.info("付款功能开发中...")},S=()=>{d.info("批量付款功能开发中...")},T=async l=>{try{await q.confirm(`确定要删除应付账"${l.invoice_no}"吗？`,"确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),d.success("删除成功"),c()}catch{}},D=l=>({unpaid:"info",partial:"warning",paid:"success",overdue:"danger"})[l]||"info",M=l=>({unpaid:"未付款",partial:"部分付款",paid:"已付款",overdue:"逾期"})[l]||l,N=l=>l>0?"positive-balance":"zero-balance",f=l=>l==null?"0.00":Number(l).toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2});return K(()=>{c()}),(l,a)=>{const I=Y,b=Z,p=ee,P=ae,u=G,z=H,g=te,s=le,F=ne,A=J,U=Q;return C(),O("div",ie,[r("div",ue,[e(z,{model:i,inline:""},{default:t(()=>[e(b,{label:"关键词"},{default:t(()=>[e(I,{modelValue:i.keyword,"onUpdate:modelValue":a[0]||(a[0]=n=>i.keyword=n),placeholder:"请输入供应商名称或发票号",clearable:"",onKeyup:W(y,["enter"])},null,8,["modelValue"])]),_:1}),e(b,{label:"状态"},{default:t(()=>[e(P,{modelValue:i.status,"onUpdate:modelValue":a[1]||(a[1]=n=>i.status=n),placeholder:"请选择状态",clearable:""},{default:t(()=>[e(p,{label:"未付款",value:"unpaid"}),e(p,{label:"部分付款",value:"partial"}),e(p,{label:"已付款",value:"paid"}),e(p,{label:"逾期",value:"overdue"})]),_:1},8,["modelValue"])]),_:1}),e(b,null,{default:t(()=>[e(u,{type:"primary",onClick:y},{default:t(()=>[...a[2]||(a[2]=[o("搜索",-1)])]),_:1}),e(u,{onClick:E},{default:t(()=>[...a[3]||(a[3]=[o("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),r("div",de,[e(u,{type:"primary",onClick:x},{default:t(()=>[e(g,null,{default:t(()=>[e(w(oe))]),_:1}),a[4]||(a[4]=o(" 新增应付 ",-1))]),_:1}),e(u,{type:"success",onClick:S},{default:t(()=>[e(g,null,{default:t(()=>[e(w(se))]),_:1}),a[5]||(a[5]=o(" 批量付款 ",-1))]),_:1})]),r("div",re,[R((C(),j(A,{data:v.value,stripe:"",border:""},{default:t(()=>[e(s,{prop:"invoice_no",label:"发票号",width:"150"}),e(s,{prop:"supplier_name",label:"供应商名称",width:"200"}),e(s,{prop:"amount",label:"应付金额",width:"120",align:"right"},{default:t(({row:n})=>[o(_(f(n.amount)),1)]),_:1}),e(s,{prop:"paid_amount",label:"已付金额",width:"120",align:"right"},{default:t(({row:n})=>[o(_(f(n.paid_amount)),1)]),_:1}),e(s,{prop:"balance",label:"余额",width:"120",align:"right"},{default:t(({row:n})=>[r("span",{class:X(N(n.balance))},_(f(n.balance)),3)]),_:1}),e(s,{prop:"due_date",label:"到期日期",width:"120"}),e(s,{prop:"status",label:"状态",width:"100"},{default:t(({row:n})=>[e(F,{type:D(n.status)},{default:t(()=>[o(_(M(n.status)),1)]),_:2},1032,["type"])]),_:1}),e(s,{label:"操作",width:"200",fixed:"right"},{default:t(({row:n})=>[r("div",ce,[e(u,{size:"small",onClick:h=>V(n)},{default:t(()=>[...a[6]||(a[6]=[o("编辑",-1)])]),_:1},8,["onClick"]),e(u,{size:"small",type:"success",onClick:h=>B(n)},{default:t(()=>[...a[7]||(a[7]=[o(" 付款 ",-1)])]),_:1},8,["onClick"]),e(u,{size:"small",type:"danger",onClick:h=>T(n)},{default:t(()=>[...a[8]||(a[8]=[o(" 删除 ",-1)])]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["data"])),[[U,m.value]])])])}}},he=L(pe,[["__scopeId","data-v-bb1344e2"]]);export{he as default};
