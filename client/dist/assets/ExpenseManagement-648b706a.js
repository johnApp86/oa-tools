import{_ as U}from"./_plugin-vue_export-helper-0b6f8918.js";/* empty css                     *//* empty css                     *//* empty css                  *//* empty css                 */import{G as g,K as X,H as j,o as h,a as A,b as u,d as e,w as o,L as O,M as P,T as r,J as G,N as H,O as J,Q as K,f as n,g as x,I as f,S as Q,U as R,V as W,a4 as q,a3 as Y,h as Z,W as ee,X as te,x as oe,y as ae}from"./index-25be2468.js";const le={class:"expense-management"},ne={class:"search-form"},se={class:"button-group"},pe={class:"table-container"},ie={class:"operation-buttons"},re={__name:"ExpenseManagement",setup(de){const _=g(!1),v=g([]),p=X({keyword:"",expenseType:""}),d=async()=>{_.value=!0;try{const l=[{id:1,expense_code:"EXP-001",expense_name:"出差住宿费",expense_type:"travel",applicant:"张三",amount:2e3,approved_amount:1800,apply_date:"2025-10-25",status:"approved"},{id:2,expense_code:"EXP-002",expense_name:"办公用品采购",expense_type:"office",applicant:"李四",amount:500,approved_amount:0,apply_date:"2025-10-28",status:"pending"}];v.value=l}catch(l){console.error("加载数据失败:",l),r.error("加载数据失败")}finally{_.value=!1}},k=()=>d(),E=()=>{p.keyword="",p.expenseType="",d()},C=()=>r.info("新增费用功能开发中..."),M=()=>r.info("编辑功能开发中..."),T=()=>r.info("费用审批功能开发中..."),V=()=>r.info("详情功能开发中..."),D=async l=>{try{await Q.confirm(`确定要删除费用"${l.expense_name}"吗？`,"确认删除"),r.success("删除成功"),d()}catch{}},S=l=>({pending:"warning",approved:"success",rejected:"danger"})[l]||"info",B=l=>({pending:"待审批",approved:"已批准",rejected:"已拒绝"})[l]||l,y=l=>Number(l).toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2});return j(()=>d()),(l,t)=>{const N=R,m=W,c=q,F=Y,i=G,I=H,w=Z,s=ee,z=te,L=J,$=K;return h(),A("div",le,[u("div",ne,[e(I,{model:p,inline:""},{default:o(()=>[e(m,{label:"关键词"},{default:o(()=>[e(N,{modelValue:p.keyword,"onUpdate:modelValue":t[0]||(t[0]=a=>p.keyword=a),placeholder:"请输入费用名称或申请人",clearable:""},null,8,["modelValue"])]),_:1}),e(m,{label:"费用类型"},{default:o(()=>[e(F,{modelValue:p.expenseType,"onUpdate:modelValue":t[1]||(t[1]=a=>p.expenseType=a),placeholder:"请选择类型",clearable:"",style:{width:"200px"},"popper-append-to-body":!1},{default:o(()=>[e(c,{label:"差旅费",value:"travel"}),e(c,{label:"办公费",value:"office"}),e(c,{label:"通讯费",value:"communication"}),e(c,{label:"培训费",value:"training"})]),_:1},8,["modelValue"])]),_:1}),e(m,null,{default:o(()=>[e(i,{type:"primary",onClick:k},{default:o(()=>[...t[2]||(t[2]=[n("搜索",-1)])]),_:1}),e(i,{onClick:E},{default:o(()=>[...t[3]||(t[3]=[n("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),u("div",se,[e(i,{type:"primary",onClick:C},{default:o(()=>[e(w,null,{default:o(()=>[e(x(oe))]),_:1}),t[4]||(t[4]=n(" 新增费用 ",-1))]),_:1}),e(i,{type:"success",onClick:T},{default:o(()=>[e(w,null,{default:o(()=>[e(x(ae))]),_:1}),t[5]||(t[5]=n(" 费用审批 ",-1))]),_:1})]),u("div",pe,[O((h(),P(L,{data:v.value,stripe:"",border:"",style:{width:"100%"},"table-layout":"fixed"},{default:o(()=>[e(s,{prop:"expense_code",label:"费用编号",width:"150","show-overflow-tooltip":""}),e(s,{prop:"expense_name",label:"费用名称",width:"200","show-overflow-tooltip":""}),e(s,{prop:"expense_type",label:"费用类型",width:"120","show-overflow-tooltip":""}),e(s,{prop:"applicant",label:"申请人",width:"120","show-overflow-tooltip":""}),e(s,{prop:"amount",label:"申请金额",width:"120","show-overflow-tooltipalign":"right"},{default:o(({row:a})=>[n(f(y(a.amount)),1)]),_:1}),e(s,{prop:"approved_amount",label:"审批金额",width:"120","show-overflow-tooltipalign":"right"},{default:o(({row:a})=>[n(f(y(a.approved_amount)),1)]),_:1}),e(s,{prop:"apply_date",label:"申请日期",width:"120","show-overflow-tooltip":""}),e(s,{prop:"status",label:"状态",width:"100","show-overflow-tooltip":""},{default:o(({row:a})=>[e(z,{type:S(a.status)},{default:o(()=>[n(f(B(a.status)),1)]),_:2},1032,["type"])]),_:1}),e(s,{label:"操作",width:"280","show-overflow-tooltipfixed":"right"},{default:o(({row:a})=>[u("div",ie,[e(i,{size:"small",onClick:b=>M(a)},{default:o(()=>[...t[6]||(t[6]=[n("编辑",-1)])]),_:1},8,["onClick"]),e(i,{size:"small",type:"primary",onClick:b=>V(a)},{default:o(()=>[...t[7]||(t[7]=[n(" 详情 ",-1)])]),_:1},8,["onClick"]),e(i,{size:"small",type:"danger",onClick:b=>D(a)},{default:o(()=>[...t[8]||(t[8]=[n(" 删除 ",-1)])]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["data"])),[[$,_.value]])])])}}},ye=U(re,[["__scopeId","data-v-8dccb5d9"]]);export{ye as default};
