import{_ as L}from"./_plugin-vue_export-helper-0b6f8918.js";/* empty css                     *//* empty css                     *//* empty css                  *//* empty css                 */import{G as h,K as $,H as K,o as k,a as O,b as u,d as e,w as a,L as R,M as j,T as r,J as G,N as H,O as J,Q,R as W,f as n,g as C,I as _,aj as X,S as q,U as Y,V as Z,a4 as ee,a3 as te,h as ae,W as oe,X as le,x as ne,F as se}from"./index-25be2468.js";const ie={class:"accounts-payable-management"},de={class:"search-form"},re={class:"button-group"},ue={class:"table-container"},pe={class:"operation-buttons"},ce={__name:"AccountsPayable",setup(_e){const m=h(!1),v=h([]),i=$({keyword:"",status:""}),p=async()=>{m.value=!0;try{const o=[{id:1,invoice_no:"INV-SUP-001",supplier_name:"供应商A",amount:25e3,paid_amount:1e4,balance:15e3,due_date:"2025-11-30",status:"partial"},{id:2,invoice_no:"INV-SUP-002",supplier_name:"供应商B",amount:15e3,paid_amount:15e3,balance:0,due_date:"2025-11-15",status:"paid"}];v.value=o}catch(o){console.error("加载数据失败:",o),r.error("加载数据失败")}finally{m.value=!1}},y=()=>{p()},x=()=>{i.keyword="",i.status="",p()},E=()=>{r.info("新增应付功能开发中...")},V=()=>{r.info("编辑功能开发中...")},B=()=>{r.info("付款功能开发中...")},S=()=>{r.info("批量付款功能开发中...")},T=async o=>{try{await q.confirm(`确定要删除应付账"${o.invoice_no}"吗？`,"确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),r.success("删除成功"),p()}catch{}},D=o=>({unpaid:"info",partial:"warning",paid:"success",overdue:"danger"})[o]||"info",M=o=>({unpaid:"未付款",partial:"部分付款",paid:"已付款",overdue:"逾期"})[o]||o,N=o=>o>0?"positive-balance":"zero-balance",f=o=>o==null?"0.00":Number(o).toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2});return K(()=>{p()}),(o,t)=>{const I=Y,b=Z,c=ee,P=te,d=G,z=H,w=ae,s=oe,F=le,A=J,U=Q;return k(),O("div",ie,[u("div",de,[e(z,{model:i,inline:""},{default:a(()=>[e(b,{label:"关键词"},{default:a(()=>[e(I,{modelValue:i.keyword,"onUpdate:modelValue":t[0]||(t[0]=l=>i.keyword=l),placeholder:"请输入供应商名称或发票号",clearable:"",onKeyup:W(y,["enter"])},null,8,["modelValue"])]),_:1}),e(b,{label:"状态"},{default:a(()=>[e(P,{modelValue:i.status,"onUpdate:modelValue":t[1]||(t[1]=l=>i.status=l),placeholder:"请选择状态",clearable:"",style:{width:"200px"},"popper-append-to-body":!1},{default:a(()=>[e(c,{label:"未付款",value:"unpaid"}),e(c,{label:"部分付款",value:"partial"}),e(c,{label:"已付款",value:"paid"}),e(c,{label:"逾期",value:"overdue"})]),_:1},8,["modelValue"])]),_:1}),e(b,null,{default:a(()=>[e(d,{type:"primary",onClick:y},{default:a(()=>[...t[2]||(t[2]=[n("搜索",-1)])]),_:1}),e(d,{onClick:x},{default:a(()=>[...t[3]||(t[3]=[n("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),u("div",re,[e(d,{type:"primary",onClick:E},{default:a(()=>[e(w,null,{default:a(()=>[e(C(ne))]),_:1}),t[4]||(t[4]=n(" 新增应付 ",-1))]),_:1}),e(d,{type:"success",onClick:S},{default:a(()=>[e(w,null,{default:a(()=>[e(C(se))]),_:1}),t[5]||(t[5]=n(" 批量付款 ",-1))]),_:1})]),u("div",ue,[R((k(),j(A,{data:v.value,stripe:"",border:"",style:{width:"100%"},"table-layout":"fixed"},{default:a(()=>[e(s,{prop:"invoice_no",label:"发票号",width:"150","show-overflow-tooltip":""}),e(s,{prop:"supplier_name",label:"供应商名称",width:"200","show-overflow-tooltip":""}),e(s,{prop:"amount",label:"应付金额",width:"120","show-overflow-tooltipalign":"right"},{default:a(({row:l})=>[n(_(f(l.amount)),1)]),_:1}),e(s,{prop:"paid_amount",label:"已付金额",width:"120","show-overflow-tooltipalign":"right"},{default:a(({row:l})=>[n(_(f(l.paid_amount)),1)]),_:1}),e(s,{prop:"balance",label:"余额",width:"120","show-overflow-tooltipalign":"right"},{default:a(({row:l})=>[u("span",{class:X(N(l.balance))},_(f(l.balance)),3)]),_:1}),e(s,{prop:"due_date",label:"到期日期",width:"120","show-overflow-tooltip":""}),e(s,{prop:"status",label:"状态",width:"100","show-overflow-tooltip":""},{default:a(({row:l})=>[e(F,{type:D(l.status)},{default:a(()=>[n(_(M(l.status)),1)]),_:2},1032,["type"])]),_:1}),e(s,{label:"操作",width:"280","show-overflow-tooltipfixed":"right"},{default:a(({row:l})=>[u("div",pe,[e(d,{size:"small",onClick:g=>V(l)},{default:a(()=>[...t[6]||(t[6]=[n("编辑",-1)])]),_:1},8,["onClick"]),e(d,{size:"small",type:"success",onClick:g=>B(l)},{default:a(()=>[...t[7]||(t[7]=[n(" 付款 ",-1)])]),_:1},8,["onClick"]),e(d,{size:"small",type:"danger",onClick:g=>T(l)},{default:a(()=>[...t[8]||(t[8]=[n(" 删除 ",-1)])]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["data"])),[[U,m.value]])])])}}},ge=L(ce,[["__scopeId","data-v-545de3d2"]]);export{ge as default};
