import{_ as $}from"./_plugin-vue_export-helper-0b6f8918.js";/* empty css                     *//* empty css                     *//* empty css                  *//* empty css                 */import{G as C,K as L,H as U,o as k,a as O,b as d,d as e,w as a,L as j,M as G,T as r,J as H,N as J,O as K,Q,f as n,g as h,I as b,aj as R,S as W,U as q,V as P,a4 as X,a3 as Y,h as Z,W as ee,x as E}from"./index-4e5dc47e.js";const te={class:"cost-accounting-management"},ae={class:"search-form"},oe={class:"button-group"},le={class:"table-container"},ne={class:"operation-buttons"},se={__name:"CostAccounting",setup(ce){const m=C(!1),v=C([]),s=L({keyword:"",costType:""}),_=async()=>{m.value=!0;try{const l=[{id:1,cost_center_code:"CC-001",cost_center_name:"生产部门",cost_type:"direct_material",budget_amount:1e5,actual_amount:95e3,variance:-5e3},{id:2,cost_center_code:"CC-002",cost_center_name:"管理部门",cost_type:"indirect",budget_amount:5e4,actual_amount:52e3,variance:2e3}];v.value=l}catch(l){console.error("加载数据失败:",l),r.error("加载数据失败")}finally{m.value=!1}},w=()=>_(),V=()=>{s.keyword="",s.costType="",_()},x=()=>r.info("新增成本中心功能开发中..."),D=()=>r.info("编辑功能开发中..."),T=()=>r.info("成本分配功能开发中..."),z=()=>r.info("详情功能开发中..."),B=async l=>{try{await W.confirm(`确定要删除成本中心"${l.cost_center_name}"吗？`,"确认删除"),r.success("删除成功"),_()}catch{}},N=l=>l<0?"positive-variance":l>0?"negative-variance":"zero-variance",p=l=>Number(l).toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2});return U(()=>_()),(l,t)=>{const A=q,f=P,u=X,F=Y,c=H,I=J,g=Z,i=ee,S=K,M=Q;return k(),O("div",te,[d("div",ae,[e(I,{model:s,inline:""},{default:a(()=>[e(f,{label:"关键词"},{default:a(()=>[e(A,{modelValue:s.keyword,"onUpdate:modelValue":t[0]||(t[0]=o=>s.keyword=o),placeholder:"请输入成本中心或项目名称",clearable:""},null,8,["modelValue"])]),_:1}),e(f,{label:"成本类型"},{default:a(()=>[e(F,{modelValue:s.costType,"onUpdate:modelValue":t[1]||(t[1]=o=>s.costType=o),placeholder:"请选择类型",clearable:""},{default:a(()=>[e(u,{label:"直接材料",value:"direct_material"}),e(u,{label:"直接人工",value:"direct_labor"}),e(u,{label:"制造费用",value:"manufacturing"}),e(u,{label:"间接费用",value:"indirect"})]),_:1},8,["modelValue"])]),_:1}),e(f,null,{default:a(()=>[e(c,{type:"primary",onClick:w},{default:a(()=>[...t[2]||(t[2]=[n("搜索",-1)])]),_:1}),e(c,{onClick:V},{default:a(()=>[...t[3]||(t[3]=[n("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),d("div",oe,[e(c,{type:"primary",onClick:x},{default:a(()=>[e(g,null,{default:a(()=>[e(h(E))]),_:1}),t[4]||(t[4]=n(" 新增成本中心 ",-1))]),_:1}),e(c,{type:"success",onClick:T},{default:a(()=>[e(g,null,{default:a(()=>[e(h(E))]),_:1}),t[5]||(t[5]=n(" 成本分配 ",-1))]),_:1})]),d("div",le,[j((k(),G(S,{data:v.value,stripe:"",border:""},{default:a(()=>[e(i,{prop:"cost_center_code",label:"成本中心编号",width:"150"}),e(i,{prop:"cost_center_name",label:"成本中心名称",width:"200"}),e(i,{prop:"cost_type",label:"成本类型",width:"120"}),e(i,{prop:"budget_amount",label:"预算金额",width:"120",align:"right"},{default:a(({row:o})=>[n(b(p(o.budget_amount)),1)]),_:1}),e(i,{prop:"actual_amount",label:"实际金额",width:"120",align:"right"},{default:a(({row:o})=>[n(b(p(o.actual_amount)),1)]),_:1}),e(i,{prop:"variance",label:"差异",width:"120",align:"right"},{default:a(({row:o})=>[d("span",{class:R(N(o.variance))},b(p(o.variance)),3)]),_:1}),e(i,{label:"操作",width:"200",fixed:"right"},{default:a(({row:o})=>[d("div",ne,[e(c,{size:"small",onClick:y=>D(o)},{default:a(()=>[...t[6]||(t[6]=[n("编辑",-1)])]),_:1},8,["onClick"]),e(c,{size:"small",type:"primary",onClick:y=>z(o)},{default:a(()=>[...t[7]||(t[7]=[n(" 详情 ",-1)])]),_:1},8,["onClick"]),e(c,{size:"small",type:"danger",onClick:y=>B(o)},{default:a(()=>[...t[8]||(t[8]=[n(" 删除 ",-1)])]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["data"])),[[M,m.value]])])])}}},pe=$(se,[["__scopeId","data-v-1b48a032"]]);export{pe as default};
